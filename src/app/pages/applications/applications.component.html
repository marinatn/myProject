<!-- <ion-title class="title">
  Медицинские специалисты клинической лаборатории
</ion-title>

<div class="container-buttons">
  <ion-button id="open-create-modal" expand="block">Добавить</ion-button>
  <ion-button id="open-edit-modal" expand="block" [disabled]="!tableService.selectedItem">Изменить</ion-button>
  <ion-button id="open-viewing-modal" expand="block" [disabled]="!tableService.selectedItem">Просмотреть</ion-button>
  <ion-button (click)="tableService.deleteAlert(itemUrl)" expand="block" [disabled]="!tableService.selectedItem">Удалить</ion-button>
</div> -->



<div class="ion-padding">
    Доктор

    <ion-item>
      <ion-input
        label="ФИО"
        labelPlacement="stacked"
        type="string"
        placeholder="ФИО"
        [(ngModel)]="tableService.item && tableService.item.fio"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-input
        label="СНИЛС"
        labelPlacement="stacked"
        type="string"
        placeholder="СНИЛС"
        [(ngModel)]="tableService.item && tableService.item.snils"
      ></ion-input>
    </ion-item>

    <ion-list [inset]="true">
      <ion-item [button]="true" [detail]="false" id="select-risks">
        <ion-label>Risks </ion-label>
        <div slot="end" id="selected-risks">{{ selectedRisksText }}</div>
      </ion-item>
    </ion-list>

    <!-- (ngModelChange)="onSelectChange($event)" -->
    <!-- <ion-item>
      <ion-select 
        [(ngModel)]="tableService.item.post"
        label-placement="floating" 
        placeholder="Выберете категорию риска">
          <div slot="label">
            Роль 
          </div>
          <ion-select-option 
            *ngFor="let risk of tableService.risks"
            value="{{risk.id}}"
          >
              {{risk.name}}
          </ion-select-option>
      </ion-select>
    </ion-item> -->


  </div>



<app-table
  [columns]="tableService.gridColumns"
  [options]="tableService.gridOptions"
  [data]="tableService.gridData"
  (onAngularGridCreated)="tableService.angularGridReady($event.detail)"
  (onGridStateChanged)="tableService.gridStateChanged($event.detail)"
  (onBeforeGridDestroy)="tableService.saveCurrentGridState()"
  (onRowCountChanged)="tableService.refreshMetrics($event.detail.eventData, $event.detail.args)"
  (onSelectedRowsChanged)="tableService.onSelectedRowsChanged($event)"
>
</app-table>

<ion-modal trigger="open-edit-modal" #editModal (willDismiss)="tableService.onWillDismiss($event,itemUrl)">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="tableService.cancel(editModal)">Закрыть</ion-button>
        </ion-buttons>
        <ion-title>
          Человек: поиск 
        </ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="tableService.confirm(tableService.selectedItem, 'edit', editModal)" [strong]="true">Выбрать</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
  
    <ion-content class="ion-padding">
        Доктор
  
        <ion-item>
          <ion-input
            label="ФИО"
            labelPlacement="stacked"
            type="string"
            placeholder="ФИО"
            [(ngModel)]="tableService.selectedItem && tableService.selectedItem.fio"
          ></ion-input>
        </ion-item>

        <ion-item>
          <ion-input
            label="СНИЛС"
            labelPlacement="stacked"
            type="string"
            placeholder="СНИЛС"
            [(ngModel)]="tableService.selectedItem && tableService.selectedItem.snils"
          ></ion-input>
        </ion-item>
  
        <ion-item>
          <!-- (ngModelChange)="onSelectChange($event)" -->
          <ion-select 
            [(ngModel)]="tableService.selectedItem.post"
            label-placement="floating" 
            placeholder="Выберете должность">
              <div slot="label">
                Роль 
                <!-- <ion-text color="danger">*</ion-text> -->
              </div>
              <ion-select-option 
                *ngFor="let post of tableService.posts"
                value="{{post.id}}"
              >
                  {{post.name}}
              </ion-select-option>
          </ion-select>
        </ion-item>
    </ion-content>
  </ng-template>
</ion-modal>


<ion-modal trigger="select-risks" #risksModal>
  <ng-template>
    <!--     (selectionChange)="fruitSelectionChanged($event)" -->
    <app-typeahead
    class="ion-page"
    title="Риски"
    [items]="tableService.risks"
    [selectedItems]="tableService.item.risks"
    (selectionCancel)="risksModal.dismiss()"
  ></app-typeahead>
  </ng-template>
</ion-modal>





