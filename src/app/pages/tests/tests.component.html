

<!--<div class="container-buttons">-->
<!--  <ion-button id="open-create-modal" expand="block">Добавить</ion-button>-->
<!--  <ion-button id="open-edit-modal" expand="block" [disabled]="!tableService.selectedItem">Изменить</ion-button>-->
<!--  <ion-button id="open-viewing-modal" expand="block" [disabled]="!tableService.selectedItem">Просмотреть</ion-button>-->
<!--  <ion-button (click)="tableService.deleteAlert(itemUrl)" expand="block" [disabled]="!tableService.selectedItem">Удалить</ion-button>-->

<!--</div>-->


<div class="ion-padding">
  Референсные значения

  <ion-item>
    <ion-input
      label="Название теста"
      labelPlacement="stacked"
      type="string"
      placeholder="Название теста"
      [(ngModel)]="tableService.item && tableService.item.name"
    ></ion-input>
  </ion-item>

  <ion-item>
    <ion-input
      label="Код услуги"
      labelPlacement="stacked"
      type="string"
      placeholder="Код услуги"
      [(ngModel)]="tableService.selectedItem && tableService.selectedItem.code"
    ></ion-input>
  </ion-item>

  <ion-item [button]="true" [detail]="false" id="select-risks">
    <ion-label>Референсные значения </ion-label>
    <div slot="end" id="selected-risks">{{ selectedReferencesText }}</div>
  </ion-item>

</div>
<!--Typeahead modal-->
<ion-modal trigger="select-risks" #referencesModal>
  <ng-template>
    <!--     (selectionChange)="fruitSelectionChanged($event)" -->
    <app-typeahead
      class="ion-page"
      title="Референсные значения"
      [items]="tableService.references"
      [selectedItems]="tableService.item.references"
      (selectionChange)="onChangeRisks($event)"
      (selectionCancel)="referencesModal.dismiss()"
    ></app-typeahead>
  </ng-template>
</ion-modal>

<app-table
  [columns]="tableService.gridColumns"
  [options]="tableService.gridOptions"
  [data]="tableService.gridData"
  (onAngularGridCreated)="tableService.angularGridReady($event.detail)"
  (onGridStateChanged)="tableService.gridStateChanged($event.detail)"
  (onBeforeGridDestroy)="tableService.saveCurrentGridState()"
  (onRowCountChanged)="tableService.refreshMetrics($event.detail.eventData, $event.detail.args)"
  (onSelectedRowsChanged)="tableService.onSelectedRowsChanged($event)"
>
</app-table>

<!--New testing-->
<!--
<ion-modal trigger="open-create-modal" #newModal (willDismiss)="tableService.onWillDismiss($event, itemUrl)">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="tableService.cancel(newModal)">Закрыть</ion-button>
        </ion-buttons>
        <ion-title>Тест анализатора</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="tableService.confirm(tableService.item, 'new', newModal)" [strong]="true">Сохранить</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">

      <ion-item>
        <ion-input
          label="Код услуги"
          labelPlacement="stacked"
          type="string"
          placeholder="Код услуги"
          [(ngModel)]="tableService.item && tableService.item.code"
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-input
          label="Наименование исследования"
          labelPlacement="stacked"
          type="string"
          placeholder="Наименование исследования"
          [(ngModel)]="tableService.item && tableService.item.name"
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-input
          label="Референсные значения"
          labelPlacement="stacked"
          type="string"
          placeholder="Референсные значения"
          [(ngModel)]="tableService.item && tableService.item.refer"
        ></ion-input>
      </ion-item>


      <ion-item>
        &lt;!&ndash; (ngModelChange)="onSelectChange($event)" &ndash;&gt;
        <ion-select
          [(ngModel)]="tableService.item.post"
          label-placement="floating"
          placeholder="Тесты исследования">
            <div slot="label">
              Роль
              &lt;!&ndash; <ion-text color="danger">*</ion-text> &ndash;&gt;
            </div>
            <ion-select-option
              *ngFor="let post of tableService.posts"
              value="{{post.id}}"
            >
                {{post.name}}
            </ion-select-option>
        </ion-select>
        </ion-item>


    </ion-content>
  </ng-template>
</ion-modal>
-->

<!--Edit testing-->
<!--
<ion-modal trigger="open-edit-modal" #editModal (willDismiss)="tableService.onWillDismiss($event, itemUrl)">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="tableService.cancel(editModal)">Закрыть</ion-button>
        </ion-buttons>
        <ion-title>Тест анализатора</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="tableService.confirm(tableService.selectedItem, 'edit', editModal)" [strong]="true">Сохранить</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">

      <ion-item>
        <ion-input
          label="Код услуги"
          labelPlacement="stacked"
          type="string"
          placeholder="Код услуги"
          [(ngModel)]="tableService.selectedItem && tableService.selectedItem.code"
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-input
          label="Наименование"
          labelPlacement="stacked"
          type="string"
          placeholder="Наименование"
          [(ngModel)]="tableService.selectedItem && tableService.selectedItem.name"
        ></ion-input>
      </ion-item>

      &lt;!&ndash; <ion-item>
        <ion-input
          label="Референсные значения"
          labelPlacement="stacked"
          type="string"
          placeholder="Референсные значения"
          [(ngModel)]="tableService.selectedItem && tableService.selectedItem.refer"
        ></ion-input>
      </ion-item> &ndash;&gt;


    </ion-content>
  </ng-template>
</ion-modal>
-->


